import{d as H,g as U,m as n}from"./index-ClU_q-A8.js";function b(d){return d===void 0&&(d=""),`.${d.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function K(d){let{swiper:i,extendParams:I,on:o}=d;I({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null}}),i.a11y={clicked:!1};let r=null;function p(e){const a=r;a.length!==0&&(a.innerHTML="",a.innerHTML=e)}function T(e){e===void 0&&(e=16);const a=()=>Math.round(16*Math.random()).toString(16);return"x".repeat(e).replace(/x/g,a)}function f(e){e=n(e),e.forEach(a=>{a.setAttribute("tabIndex","0")})}function h(e){e=n(e),e.forEach(a=>{a.setAttribute("tabIndex","-1")})}function E(e,a){e=n(e),e.forEach(t=>{t.setAttribute("role",a)})}function y(e,a){e=n(e),e.forEach(t=>{t.setAttribute("aria-roledescription",a)})}function P(e,a){e=n(e),e.forEach(t=>{t.setAttribute("aria-controls",a)})}function g(e,a){e=n(e),e.forEach(t=>{t.setAttribute("aria-label",a)})}function D(e,a){e=n(e),e.forEach(t=>{t.setAttribute("id",a)})}function N(e,a){e=n(e),e.forEach(t=>{t.setAttribute("aria-live",a)})}function M(e){e=n(e),e.forEach(a=>{a.setAttribute("aria-disabled",!0)})}function x(e){e=n(e),e.forEach(a=>{a.setAttribute("aria-disabled",!1)})}function c(e){if(e.keyCode!==13&&e.keyCode!==32)return;const a=i.params.a11y,t=e.target;i.pagination&&i.pagination.el&&(t===i.pagination.el||i.pagination.el.contains(e.target))&&!e.target.matches(b(i.params.pagination.bulletClass))||(i.navigation&&i.navigation.nextEl&&t===i.navigation.nextEl&&(i.isEnd&&!i.params.loop||i.slideNext(),i.isEnd?p(a.lastSlideMessage):p(a.nextSlideMessage)),i.navigation&&i.navigation.prevEl&&t===i.navigation.prevEl&&(i.isBeginning&&!i.params.loop||i.slidePrev(),i.isBeginning?p(a.firstSlideMessage):p(a.prevSlideMessage)),i.pagination&&t.matches(b(i.params.pagination.bulletClass))&&t.click())}function B(){if(i.params.loop||i.params.rewind||!i.navigation)return;const{nextEl:e,prevEl:a}=i.navigation;a&&(i.isBeginning?(M(a),h(a)):(x(a),f(a))),e&&(i.isEnd?(M(e),h(e)):(x(e),f(e)))}function L(){return i.pagination&&i.pagination.bullets&&i.pagination.bullets.length}function A(){return L()&&i.params.pagination.clickable}function F(){const e=i.params.a11y;L()&&i.pagination.bullets.forEach(a=>{i.params.pagination.clickable&&(f(a),i.params.pagination.renderBullet||(E(a,"button"),g(a,e.paginationBulletMessage.replace(/\{\{index\}\}/,U(a)+1)))),a.matches(b(i.params.pagination.bulletActiveClass))?a.setAttribute("aria-current","true"):a.removeAttribute("aria-current")})}const k=(e,a,t)=>{f(e),e.tagName!=="BUTTON"&&(E(e,"button"),e.addEventListener("keydown",c)),g(e,t),P(e,a)},w=()=>{i.a11y.clicked=!0},S=()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{i.destroyed||(i.a11y.clicked=!1)})})},C=e=>{if(i.a11y.clicked)return;const a=e.target.closest(`.${i.params.slideClass}, swiper-slide`);if(!a||!i.slides.includes(a))return;const t=i.slides.indexOf(a)===i.activeIndex,s=i.params.watchSlidesProgress&&i.visibleSlides&&i.visibleSlides.includes(a);t||s||e.sourceCapabilities&&e.sourceCapabilities.firesTouchEvents||(i.isHorizontal()?i.el.scrollLeft=0:i.el.scrollTop=0,i.slideTo(i.slides.indexOf(a),0))},R=()=>{const e=i.params.a11y;e.itemRoleDescriptionMessage&&y(i.slides,e.itemRoleDescriptionMessage),e.slideRole&&E(i.slides,e.slideRole);const a=i.slides.length;e.slideLabelMessage&&i.slides.forEach((t,s)=>{const v=i.params.loop?parseInt(t.getAttribute("data-swiper-slide-index"),10):s,l=e.slideLabelMessage.replace(/\{\{index\}\}/,v+1).replace(/\{\{slidesLength\}\}/,a);g(t,l)})},O=()=>{const e=i.params.a11y;i.el.append(r);const a=i.el;e.containerRoleDescriptionMessage&&y(a,e.containerRoleDescriptionMessage),e.containerMessage&&g(a,e.containerMessage);const t=i.wrapperEl,s=e.id||t.getAttribute("id")||`swiper-wrapper-${T(16)}`,v=i.params.autoplay&&i.params.autoplay.enabled?"off":"polite";D(t,s),N(t,v),R();let{nextEl:l,prevEl:u}=i.navigation?i.navigation:{};l=n(l),u=n(u),l&&l.forEach(m=>k(m,s,e.nextSlideMessage)),u&&u.forEach(m=>k(m,s,e.prevSlideMessage)),A()&&n(i.pagination.el).forEach(G=>{G.addEventListener("keydown",c)}),i.el.addEventListener("focus",C,!0),i.el.addEventListener("pointerdown",w,!0),i.el.addEventListener("pointerup",S,!0)};function $(){r&&r.remove();let{nextEl:e,prevEl:a}=i.navigation?i.navigation:{};e=n(e),a=n(a),e&&e.forEach(t=>t.removeEventListener("keydown",c)),a&&a.forEach(t=>t.removeEventListener("keydown",c)),A()&&n(i.pagination.el).forEach(s=>{s.removeEventListener("keydown",c)}),i.el.removeEventListener("focus",C,!0),i.el.removeEventListener("pointerdown",w,!0),i.el.removeEventListener("pointerup",S,!0)}o("beforeInit",()=>{r=H("span",i.params.a11y.notificationClass),r.setAttribute("aria-live","assertive"),r.setAttribute("aria-atomic","true")}),o("afterInit",()=>{i.params.a11y.enabled&&O()}),o("slidesLengthChange snapGridLengthChange slidesGridLengthChange",()=>{i.params.a11y.enabled&&R()}),o("fromEdge toEdge afterInit lock unlock",()=>{i.params.a11y.enabled&&B()}),o("paginationUpdate",()=>{i.params.a11y.enabled&&F()}),o("destroy",()=>{i.params.a11y.enabled&&$()})}export{K as A,b as c};
